!function(h){var t={treshold:4,maximumItems:5,highlightSelection:!0,highlightClass:"text-primary"};function u(e,t,o){var l;if(o.highlightSelection){var a=t.label.toLowerCase().indexOf(e.toLowerCase());l=t.label.substring(0,a)+'<span class="'+o.highlightClass+'">'+t.label.substring(a,a+e.length)+"</span>"+t.label.substring(a+e.length,t.label.length)}else l=t.label;return'<button type="button" class="dropdown-item" data-value="'+t.value+'">'+l+"</button>"}h.fn.autocomplete=function(e){var d={};h.extend(d,t,e);var i=h(this);return i.parent().removeClass("dropdown"),i.removeAttr("data-toggle"),i.removeClass("dropdown-toggle"),i.parent().find(".dropdown-menu").remove(),i.dropdown("dispose"),i.parent().addClass("dropdown"),i.attr("data-toggle","dropdown"),i.addClass("dropdown-toggle"),i.after('<div class="dropdown-menu"></div>'),i.dropdown(d.dropdownOptions),this.off("click").click(function(e){e.stopPropagation()}),this.off("keyup").keyup(function(){i.click();var e=i.val();if(e.length<d.treshold)i.dropdown("hide");else{var t=i.next();t.html("");for(var o=0,l=Object.keys(d.source),a=0;a<l.length;a++){var n=l[a],r=d.source[n],s={label:d.label?r[d.label]:n,value:d.value?r[d.value]:r};if(0<=s.label.toLowerCase().indexOf(e.toLowerCase())&&(t.append(u(e,s,d)),++o>=d.maximumItems))break}0!=t.children().length&&(i.next().find(".dropdown-item").click(function(){i.val(h(this).text()),d.onSelectItem&&d.onSelectItem({value:h(this).data("value"),label:h(this).text()})}),i.dropdown("show"))}}),this}}(jQuery);