!function(u){var o={treshold:4,maximumItems:5};u.fn.autocomplete=function(e){var i={};u.extend(i,o,e);var p=u(this);return p.parent().removeClass("dropdown"),p.removeAttr("data-toggle"),p.removeClass("dropdown-toggle"),p.parent().find(".dropdown-menu").remove(),p.dropdown("dispose"),p.parent().addClass("dropdown"),p.attr("data-toggle","dropdown"),p.addClass("dropdown-toggle"),p.after('<div class="dropdown-menu"></div>'),p.dropdown(i.dropdownOptions),this.off("click").click(function(e){e.stopPropagation()}),this.off("keyup").keyup(function(){p.click();var e=p.val();if(e.length<i.treshold)p.dropdown("hide");else{var o=p.next();o.html("");for(var t=0,n=Object.keys(i.source),d=0;d<n.length;d++){var a=n[d],r=i.source[a],l=i.label?r[i.label]:a,s=i.value?r[i.value]:r;if(0<=l.toLowerCase().indexOf(e.toLowerCase())&&(o.append('<button type="button" class="dropdown-item" data-value="'+s+'">'+l+"</button>"),++t>=i.maximumItems))break}0!=o.children().length&&(p.next().find(".dropdown-item").click(function(){p.val(u(this).html()),i.onSelectItem&&i.onSelectItem({value:u(this).data("value"),label:u(this).html()})}),p.dropdown("show"))}}),this}}(jQuery);